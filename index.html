<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>导航栏名称</title>
    <link rel="stylesheet" type="text/css" href="https://github.com/wmy0322/20250424/blob/main/style.css">
    
</head>


<body>
    <div class="header-container">
        <div class="header-bg"></div>

        <div class="header-content">
            <header class="header">
                <img src="logo.png" alt="学校Logo" class="school-logo">
                <h1 class="main-title">学生服务大厅导航栏</h1>
                <button class="login-btn" onclick="window.location.href='/login'">用户登录</button>                
            </header>
        

            <div id="search-container">
                <input type="text" class="search-box" placeholder="搜索网站...">
            </div>
            
        </div>
    </div>

    <!-- 导航内容区 --> 
    <div class="nav-container">
        
        <!-- 添加无结果提示 -->
        <div class="no-results">暂无相关结果</div>

        
        <div class="container">          
            <!-- 左侧导航栏 -->
            <div class="left-sidebar">
                <ul id="left-nav"></ul>
            </div>
         
             <!-- 右侧内容区 -->
            <div class="right-content">
                <div class="categories-list" >
                    <div class="category" id="cat1">
                        <h2>分类一</h2>
                        <div class="links">
                            <a href="https://www.baidu.com" class="link-item" target="_blank">
                                <img src="https://www.baidu.com/favicon.ico" alt="百度">
                                百度
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                谷歌
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                        </div>
                    </div>

                    <div class="category" id="cat2">
                        <h2>分类二</h2>
                        <div class="links">
                            <a href="https://github.com" class="link-item" target="_blank">
                                <img src="https://github.com/favicon.ico" alt="GitHub">
                                GitHub
                            </a>
                            <a href="https://stackoverflow.com" class="link-item" target="_blank">
                                <img src="https://stackoverflow.com/favicon.ico" alt="Stack Overflow">
                                Stack Overflow
                            </a>
                            
                        </div>
                    </div>

                    <div class="category" id="cat3">
                        <h2>分类三</h2>
                        <div class="links">
                            <a href="https://www.baidu.com" class="link-item" target="_blank">
                                <img src="https://www.baidu.com/favicon.ico" alt="百度">
                                百度文库
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                谷歌
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                        </div>
                    </div>

                    
                    <div class="category" id="cat4">
                        <h2>分类x</h2>
                        <div class="links">
                            <a href="https://www.baidu.com" class="link-item" target="_blank">
                                <img src="https://www.baidu.com/favicon.ico" alt="百度">
                                xxxxxxxxxxxxx
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>

                        </div>
                    </div>

                    
                <div class="category" id="cat5">
                        <h2>分类x</h2>
                        <div class="links">
                            <a href="https://www.baidu.com" class="link-item" target="_blank">
                                <img src="https://www.baidu.com/favicon.ico" alt="百度">
                                xx
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                        </div>
                    </div>

                    <div class="category" id="cat6">
                        <h2>分类x</h2>
                        <div class="links">
                            <a href="https://www.baidu.com" class="link-item" target="_blank">
                                <img src="https://www.baidu.com/favicon.ico" alt="百度">
                                xx
                            </a>
                            <a href="https://www.google.com" class="link-item" target="_blank">
                                <img src="https://www.google.com/favicon.ico" alt="谷歌">
                                yy
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        // 初始化数据
        const searchBox = document.querySelector('.search-box');
        const noResults = document.querySelector('.no-results');
        const linkItems = document.querySelectorAll('.link-item');
        const categories = document.querySelectorAll('.category');
        const leftNav = document.getElementById('left-nav');

        // 初始化左侧导航
        function initLeftNav() {
            categories.forEach(category => {
                const categoryId = category.id;
                const categoryName = category.querySelector('h2').textContent;
                const li = document.createElement('li');
                const a = document.createElement('a');
                a.href = `#${categoryId}`;
                a.textContent = categoryName;
                a.addEventListener('click', handleNavClick);
                li.appendChild(a);
                leftNav.appendChild(li);
            });
        }
        initLeftNav();

        // 处理导航点击
        function handleNavClick(e) {
            e.preventDefault();
            const targetId = e.target.getAttribute('href').substring(1);
            const targetCategory = document.getElementById(targetId);
            
            // 获取目标元素距离页面顶部的位置
            const targetPosition = targetCategory.getBoundingClientRect().top + window.pageYOffset;
            
            // 计算需要滚动到的位置（目标位置 - 180px）
            const offsetPosition = targetPosition - 180;

            // 平滑滚动到计算后的位置
            window.scrollTo({
                top: offsetPosition,
                behavior: 'smooth'
            });

            // 更新搜索状态
            searchBox.value = '';
        }


        // 更新搜索结果        
        searchBox.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase().trim();
            let totalVisible = 0;; // 标识 检索结果 的数量
            
            // 遍历所有链接项，根据搜索词过滤显示            
            linkItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                const isVisible = text.includes(searchTerm);
                item.style.display = isVisible ? 'flex' : 'none';
                if (isVisible) totalVisible++;
            });

            //  遍历所有分类，隐藏无链接的分类
            let visibleCategories = 0;
            categories.forEach(category => {
                const visibleLinks = category.querySelectorAll('.link-item[style*="display: flex"]');
                const shouldShow = visibleLinks.length > 0;
                category.style.display = shouldShow ? 'block' : 'none';                          

                if (shouldShow) visibleCategories++;
            });

            // 处理分类显示与颜色
            categories.forEach(category => {
                const links = category.querySelectorAll('.link-item[style*="display: flex"]');
                const showCategory = links.length > 0;
                category.style.display = showCategory ? 'block' : 'none';
                
                // 更新分类标题颜色
                const title = category.querySelector('h2');
                if (showCategory) {
                    title.classList.add('green-category');
                } else {
                    title.classList.remove('green-category');
                }
            });
               
         

            // 控制“暂无相关结果”提示显示逻辑
            if (searchTerm !== '' && totalVisible === 0) {
                noResults.style.display = 'block';
                categories.forEach(c => c.style.display = 'none');
            } else {
                noResults.style.display = 'none';
            }

            // 当清空搜索框时显示所有分类
            if (searchTerm === '') {
                categories.forEach(c => c.style.display = 'block');
                linkItems.forEach(i => i.style.display = 'flex');
            }
       });

      

       
    </script>
</body>
</html>
