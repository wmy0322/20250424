<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>导航栏名字</title>
    <style>
    :root {
    --primary-red: #bf0404;
    --text-dark: #333;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: "Microsoft YaHei", sans-serif;
}


/* 一级导航 */

.header {
    /* background: var(--primary-red); */
    /* background: rgb(91, 177, 223); */
    padding: 10px 30px;
    display: flex;
    justify-content: space-between;
    color: var(--primary-red);
    height: 90px;
    margin-bottom: 10px;
}

.gov-brand {
    margin-left: 4%;
    display: flex;
    align-items: center;
    gap: 15px;
    font-size: 30px;
    font-weight: 600;
    /* background-color: aqua; */
    height: 80px;
}

.school-logo {
    margin-top: 10px;
    height: 60px;
}

.header-links span {
    margin-left: 20px;
    cursor: pointer;
    /* background-color: aquamarine; */
}


/* 二级导航 */

.main-nav {
    padding: 15px 30px;
}

.nav-items {
    display: flex;
    gap: 40px;
    list-style: none;
    transition: all 0.2s;
    margin-left: 4%;
    font-size: 16px;
    font-weight: 800;
}

.nav-item {
    /* color: white; */
    cursor: pointer;
    padding-bottom: 5px;
    border-bottom: 3px solid transparent;
}

.nav-item.active {
    /* border-color: white; */
    border-color: var(--primary-red);
}

.nav-item:hover {
    transform: translateY(-2px);
    border-color: var(--primary-red);
    border-bottom: 3px solid #cc0000;
}


/* 二级父区域 */

.fullcontainer {
    /* max-width: 1200px;
    margin: 20px auto;
    padding: 0 30px; */
    width: 100%;
    background-color: #cc0000cb;
    padding: 0 5.5%;
}

#mainTitle {
    padding-top: 50px;
    font-size: 40px;
    color: white;
    font-weight: 400;
    /* background-color: aqua; */
    margin-bottom: 55px;
}


/* 二级导航 */

.category-tabs {
    display: flex;
    gap: 7px;
    /* margin: 20px 0; */
    border-bottom: 2px solid #eee;
}

.category-tab {
    background: rgba(255, 255, 255, 0.233);
    cursor: pointer;
    color: white;
    padding: 15px 35px;
    font-size: 21px;
    transition: all 0.3s;
    /* color: var(--text-dark); */
}

.category-tab.active {
    color: var(--primary-red);
    background-color: white;
    border-bottom: 2px solid var(--primary-red);
}

.category-tab:hover {
    color: var(--primary-red);
    background-color: white;
    border-bottom: 2px solid var(--primary-red);
}


/* 三级父区域 */

.container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 30px;
}


/* 三级导航样式 */


/* .tertiary-nav {
    margin: 30px 0 15px;
    padding-left: 60px;
    padding-right: 60px;
} */

.tertiary-nav {
    position: -webkit-sticky;
    position: sticky;
    top: -1px;
    /* 处理某些浏览器边框 */
    background: white;
    z-index: 100;
    padding-top: 15px;
    padding-bottom: 15px;
    padding-left: 60px;
    padding-right: 60px;
    margin-top: 0;
    margin-bottom: 0;
    border-bottom: 2px solid transparent;
    /* box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); */
}

.tertiary-nav.sticky-border {
    border-bottom: 2px solid #f10606;
}

.tertiary-tabs {
    display: flex;
    justify-content: space-between;
    position: relative;
}

.tertiary-tabs::after {
    content: "";
    position: absolute;
    top: 15px;
    left: 0;
    right: 0;
    height: 2px;
    border-bottom: 2px dashed #ccc;
    z-index: 1;
}

.tertiary-tab {
    cursor: pointer;
    position: relative;
    z-index: 2;
    text-align: center;
    padding-top: 45px;
    /* 给圆点预留空间 */
}

.tertiary-tab::before {
    content: "";
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: white;
    border: 3px solid var(--primary-red);
}


/* 服务卡片 */

.service-group {
    margin: 30px 5px;
}

.service-group h3 {
    color: var(--text-dark);
    font-size: 18px;
    margin-bottom: 15px;
    padding-left: 8px;
    border-left: 3px solid var(--primary-red);
}

.service-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
    gap: 15px;
}

.service-card {
    padding: 25px 40px;
    text-align: center;
    border: 1px solid #eee;
    /* border-radius: 4px; */
    box-shadow: 0 0 7px rgba(0, 0, 0, 0.198);
    text-decoration: none;
    color: var(--text-dark);
}

.service-card:hover {
    transform: translateY(-2px);
    background-color: var(--primary-red);
    color: white;
    transition: all 0.4s;
}
    </style>  
   
</head>
<body>
    <!-- 顶部导航 -->
    <div class="header">
        <div class="gov-brand">
             <img src="https://raw.githubusercontent.com/wmy0322/20250424/main/pic/logo.png" alt="学校Logo" class="school-logo">北京理工大学
             <img src="https://raw.githubusercontent.com/wmy0322/20250424/main/pic/logo.png" alt="学校Logo" class="school-logo" style="margin-left:50px;">学生服务中心
        </div>
        <div class="header-links">
            <span>登录</span>
        </div>
    </div>

    <!-- 主导航 -->
    <nav class="main-nav">
        <ul class="nav-items">
            <li class="nav-item active" data-level1="L1个人服务">L1个人服务</li>
            <li class="nav-item" data-level1="L1法人服务">L1法人服务</li>
            <li class="nav-item" data-level1="L1部门服务">L1部门服务</li>
            <li class="nav-item" data-level1="L1便民服务">L1便民服务</li>
            <li class="nav-item" data-level1="L1标题名称5">L1标题名称5</li>
            <li class="nav-item" data-level1="L1标题名称6">L1标题名称6</li>
            
        </ul>
    </nav>

    <!-- 内容区域 -->
    <div class="fullcontainer" >

        <h1 id="mainTitle">北京市法人服务</h1>
        
        <!-- 二级导航条 -->
        <div class="category-tabs" id="categoryTabs"></div>
    
    </div>
    
    <!-- 新增三级导航条 -->
    <div class="container">
        <div class="tertiary-nav">
            <div class="tertiary-tabs" id="tertiaryTabs"></div>
        </div>

        <!-- 内容区域 -->
        <div id="serviceContainer"></div>
    </div>
<script>
// 完整数据结构
const serviceData = {
    "L1个人服务": {
        "二级标题": {
            "社保医保": [
            {
                name:"社保卡申领",
                path:"https://www.baidu.com"
            },
            {
                name:"医保报销申请",
                path:"www.baidu.com"
               
            }],
            "住房保障": ["公积金提取", "保障房申请"],
            "三级标题1": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题2": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题3": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题4": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题5": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题6": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ]
        },
        "二级标题2": {
            "三级标题1": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题2": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题3": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题4": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ]
        },
        "二级标题3": {
            "三级标题1": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题2": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题3": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题4": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ]
        },
        "二级标题4": {
            "三级标题1": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题2": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题3": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题4": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ]
        },
        "二级标题5": {
            "三级标题1": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题2": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题3": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
            "三级标题4": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ]
           
        }
    },
    "L1法人服务": {
        "热门分类L2": {
            "社会保障": [
                "单位为职工缴存住房公积金",
                "住房公积金单位登记开户",
                "单位为职工补缴住房公积金",
                "清册核定",
                "住房公积金缴存单位信息变更",
                "单位申请住房公积金降低缴存比例、缓缴"                
            ],
            "准营准办": [
                "北京地区图书、期刊印刷委托备案",
                "变更广播电视节目制作经营许可",
                "设立广播电视节目制作经营单位"
            ],
            "xxL3": [
                "yyL4",
                "yyL4",
                "yyL4",
                "yyL4",
                "yyL4",
                "yyL4"
            ],
            "准营准办": [
                "北京地区图书、期刊印刷委托备案",
                "变更广播电视节目制作经营许可",
                "设立广播电视节目制作经营单位"
            ],
            
        },
        "主题分类": {
            "资质认证": ["AAA信用等级认证", "质量管理体系认证"],
            "安全生产": ["安全生产许可证申请", "危险化学品经营备案"],
           
        }
    },
    "L1部门服务": {
        "常用服务": {
            "社保医保": ["社保卡申领", "医保报销申请"],
            "住房保障": ["公积金提取", "保障房申请"],
             "三级标题": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
        }
    },
    "L1便民服务": {
        "常用服务": {
            "社保医保": ["社保卡申领", "医保报销申请"],
            "住房保障": ["公积金提取", "保障房申请"],
             "三级标题": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
        }
    },
    "L1标题名称5": {
        "常用服务": {
            "社保医保": ["社保卡申领", "医保报销申请"],
            "住房保障": ["公积金提取", "保障房申请"],
             "三级标题": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
        }
    },
    "L1标题名称6": {
        "常用服务": {
            "社保医保": ["社保卡申领", "医保报销申请"],
            "住房保障": ["公积金提取", "保障房申请"],
             "三级标题": [
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块",
                "四级子模块"
            ],
        }
    }
};

// 默认选择状态
let current = {
    level1: "L1个人服务",
    level2: "二级标题",
    level3: "社会保障"
};

// 初始化
function init() {
    // 绑定一级导航点击
    document.querySelectorAll('.nav-item').forEach(item => {
        item.addEventListener('click', function() {
            document.querySelector('.nav-item.active').classList.remove('active');
            this.classList.add('active');
            current.level1 = this.dataset.level1;
            current.level2 = Object.keys(serviceData[current.level1])[0];
            current.level3 = Object.keys(serviceData[current.level1][current.level2])[0];
            updateUI();
        });
    });

    updateUI();
}

// 更新界面
function updateUI() {
    // 更新主标题
    document.getElementById('mainTitle').textContent = `北京市${current.level1}`;

    // 生成二级分类标签
    const level2Options = Object.keys(serviceData[current.level1]);
    document.getElementById('categoryTabs').innerHTML = level2Options.map(level2 => `
        <div class="category-tab ${level2 === current.level2 ? 'active' : ''}" 
             onclick="changeLevel2('${level2}')">${level2}</div>
    `).join('');


     // 生成三级导航
    const level3Data = Object.keys(serviceData[current.level1][current.level2]);
    const tertiaryTabs = document.getElementById('tertiaryTabs');
    tertiaryTabs.innerHTML = level3Data.map(level3 => `
        <div class="tertiary-tab" 
             data-anchor="${level3}"
             onclick="scrollToSection('${level3}')">
            ${level3}
        </div>
    `).join('');

    // 生成带锚点的服务内容
    document.getElementById('serviceContainer').innerHTML = level3Data.map(level3 => `
        <section id="${level3}" class="service-group">
            <h3>${level3}</h3>
            <div class="service-grid">
                ${serviceData[current.level1][current.level2][level3].map(item => `
                <a class="service-card"
                   href="${item.path}" 
                   target="${item.target || '_blank'}"  
                   rel="noopener noreferrer">  
                    ${item.icon || ''} <!-- 可显示图标，默认空-->
                    ${item.name}
                </a>
            `).join('')}
            </div>
        </section>
    `).join('');
}

// 切换二级分类
function changeLevel2(level2) {
    current.level2 = level2;
    current.level3 = Object.keys(serviceData[current.level1][level2])[0];
    updateUI();
}

// 启动初始化
init();

// 新增滚动逻辑
function scrollToSection(anchorId) {
    const target = document.getElementById(anchorId);
    if (target) {
        // 移除所有激活状态
        document.querySelectorAll('.tertiary-tab').forEach(t => t.classList.remove('active'));
        // 设置当前激活
        document.querySelector(`[data-anchor="${anchorId}"]`).classList.add('active');
        // 平滑滚动
        target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
        });
    }
}

// 在现有script中添加滚动监听
let lastScroll = 0;
const tertiaryNav = document.querySelector('.tertiary-nav');

function checkSticky() {
    const rect = tertiaryNav.getBoundingClientRect();
    const isSticky = rect.top <= 0;
    
    // 添加/移除边框类
    tertiaryNav.classList.toggle('sticky-border', isSticky);
    
    // 优化滚动方向检测（可选）
    const currentScroll = window.pageYOffset;
    if (currentScroll <= lastScroll && currentScroll < 100) {
        tertiaryNav.classList.remove('sticky-border');
    }
    lastScroll = currentScroll;
}
// 使用防抖优化性能
let isTicking = false;
window.addEventListener('scroll', () => {
    if (!isTicking) {
        window.requestAnimationFrame(() => {
            checkSticky();
            isTicking = false;
        });
        isTicking = true;
    }
});
checkSticky();
</script>
</body>
</html>
